{"ast":null,"code":"import React from'react';import{CurrenUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;console.log('card.likes',card);var currentUser=React.useContext(CurrenUserContext);var isOwn=card.owner===currentUser._id;var cardDeleteButtonStyle=\"\".concat(isOwn?'grid':'none');var isLiked=card.likes.some(currentUser._id);var cardLikeButtonClassName=\"element__like-button \".concat(isLiked?'element__like-button_active':'element__like-button_disabled');function handleClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleDeleteClick(){onCardDelete(card._id);}return/*#__PURE__*/_jsxs(\"article\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:card.link,alt:card.name,className:\"element__image\",onClick:handleClick}),/*#__PURE__*/_jsx(\"button\",{className:\"element__delete-button\",type:\"button\",style:{display:cardDeleteButtonStyle},onClick:handleDeleteClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-number\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["React","CurrenUserContext","Card","card","onCardClick","onCardLike","onCardDelete","console","log","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonStyle","isLiked","likes","some","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","link","name","display","length"],"sources":["C:/Users/mi/dev/react-mesto-api-full/frontend/src/components/Card.js"],"sourcesContent":["import React from 'react';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n    console.log('card.likes', card)\r\n\r\n    const currentUser = React.useContext(CurrenUserContext);\r\n    const isOwn = card.owner === currentUser._id;\r\n    const cardDeleteButtonStyle = (`${isOwn ? 'grid' : 'none'}`)\r\n    const isLiked = card.likes.some(currentUser._id);\r\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active': 'element__like-button_disabled'}`); \r\n\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      }  \r\n    \r\n    function handleLikeClick() {\r\n       onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n      onCardDelete(card._id);\r\n   }\r\n      \r\n  return (\r\n          <article className=\"element\">\r\n            <img src={card.link} alt={card.name} className=\"element__image\"\r\n            onClick={handleClick}\r\n            />\r\n            <button className=\"element__delete-button\" type=\"button\" style={{display: cardDeleteButtonStyle}}\r\n            onClick={handleDeleteClick}\r\n            ></button>\r\n            <div className=\"element__info\">\r\n              <h2 className=\"element__name\">{card.name}</h2>\r\n              <div className=\"element__likes\">\r\n                <button className={cardLikeButtonClassName} type=\"button\"\r\n                onClick={handleLikeClick}\r\n                ></button>\r\n                <p className=\"element__like-number\">{card.likes.length}</p>\r\n            </div>\r\n            </div>\r\n          </article>\r\n\r\n)}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,iBAAT,KAAkC,gCAAlC,C,wFAGA,QAASC,KAAT,MAA6D,IAA9CC,KAA8C,MAA9CA,IAA8C,CAAxCC,WAAwC,MAAxCA,WAAwC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,YAAe,MAAfA,YAAe,CACzDC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BL,IAA1B,EAEA,GAAMM,YAAW,CAAGT,KAAK,CAACU,UAAN,CAAiBT,iBAAjB,CAApB,CACA,GAAMU,MAAK,CAAGR,IAAI,CAACS,KAAL,GAAeH,WAAW,CAACI,GAAzC,CACA,GAAMC,sBAAqB,WAAOH,KAAK,CAAG,MAAH,CAAY,MAAxB,CAA3B,CACA,GAAMI,QAAO,CAAGZ,IAAI,CAACa,KAAL,CAAWC,IAAX,CAAgBR,WAAW,CAACI,GAA5B,CAAhB,CACA,GAAMK,wBAAuB,gCAA4BH,OAAO,CAAG,6BAAH,CAAkC,+BAArE,CAA7B,CAGA,QAASI,YAAT,EAAuB,CACnBf,WAAW,CAACD,IAAD,CAAX,CACD,CAEH,QAASiB,gBAAT,EAA2B,CACxBf,UAAU,CAACF,IAAD,CAAV,CACF,CAED,QAASkB,kBAAT,EAA6B,CAC3Bf,YAAY,CAACH,IAAI,CAACU,GAAN,CAAZ,CACF,CAEF,mBACQ,iBAAS,SAAS,CAAC,SAAnB,wBACE,YAAK,GAAG,CAAEV,IAAI,CAACmB,IAAf,CAAqB,GAAG,CAAEnB,IAAI,CAACoB,IAA/B,CAAqC,SAAS,CAAC,gBAA/C,CACA,OAAO,CAAEJ,WADT,EADF,cAIE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,IAAI,CAAC,QAAhD,CAAyD,KAAK,CAAE,CAACK,OAAO,CAAEV,qBAAV,CAAhE,CACA,OAAO,CAAEO,iBADT,EAJF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BlB,IAAI,CAACoB,IAApC,EADF,cAEE,aAAK,SAAS,CAAC,gBAAf,wBACE,eAAQ,SAAS,CAAEL,uBAAnB,CAA4C,IAAI,CAAC,QAAjD,CACA,OAAO,CAAEE,eADT,EADF,cAIE,UAAG,SAAS,CAAC,sBAAb,UAAqCjB,IAAI,CAACa,KAAL,CAAWS,MAAhD,EAJF,GAFF,GAPF,GADR,CAmBA,CAEF,cAAevB,KAAf"},"metadata":{},"sourceType":"module"}