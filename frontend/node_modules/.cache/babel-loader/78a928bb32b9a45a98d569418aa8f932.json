{"ast":null,"code":"import _slicedToArray from\"C:/Users/mi/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import PopupWithForm from'./PopupWithForm';import{CurrenUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;function handleSubmit(e){e.preventDefault();onUpdateUser({name:userName,about:userDescription});}var currentUser=React.useContext(CurrenUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];React.useEffect(function(){setUserName(currentUser.name);setUserDescription(currentUser.about);},[currentUser,isOpen]);function handleChangeUserName(e){setUserName(e.target.value);}function handleChangeUserDescription(e){setUserDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",popupTitle:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonTitle:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field-container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",className:\"popup__input\",name:\"surname\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",value:userName||'',onChange:handleChangeUserName}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error\",id:\"name-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"job-input\",className:\"popup__input\",name:\"job\",type:\"text\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",required:true,minLength:\"2\",maxLength:\"200\",value:userDescription||'',onChange:handleChangeUserDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"job-input-error\",id:\"job-error\"})]})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","PopupWithForm","CurrenUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","handleSubmit","e","preventDefault","name","userName","about","userDescription","currentUser","useContext","setUserName","setUserDescription","useEffect","handleChangeUserName","target","value","handleChangeUserDescription"],"sources":["C:/Users/mi/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n           name: userName,\r\n           about: userDescription\r\n        });\r\n      }\r\n\r\n    const currentUser = React.useContext(CurrenUserContext);\r\n    \r\n    const [userName, setUserName] = useState('') \r\n    const [userDescription, setUserDescription] = useState('') \r\n\r\n    React.useEffect(() => {\r\n        setUserName(currentUser.name);\r\n        setUserDescription(currentUser.about);\r\n      }, [currentUser, isOpen]); \r\n\r\n    function handleChangeUserName(e) {\r\n        setUserName(e.target.value)\r\n    }\r\n\r\n    function handleChangeUserDescription(e) {\r\n        setUserDescription(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='profile'\r\n            popupTitle='Редактировать профиль'\r\n            buttonTitle='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <div className=\"field-container\">\r\n                <input id=\"name-input\" className=\"popup__input\" name=\"surname\" type=\"text\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"\r\n                value={userName || ''} onChange={handleChangeUserName}\r\n                />\r\n                <span className=\"name-input-error\" id=\"name-error\"></span>\r\n            </div>\r\n            <div className=\"field-container\">\r\n                <input id=\"job-input\" className=\"popup__input\" name=\"job\" type=\"text\" placeholder=\"Профессия\" required minLength=\"2\" maxLength=\"200\"\r\n                value={userDescription || ''} onChange={handleChangeUserDescription}\r\n                />\r\n                <span className=\"job-input-error\" id=\"job-error\"></span>\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup"],"mappings":"mIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,iBAAT,KAAkC,gCAAlC,C,wFAGA,QAASC,iBAAT,MAA6D,IAAjCC,OAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,CAEzD,QAASC,aAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACAH,YAAY,CAAC,CACVI,IAAI,CAAEC,QADI,CAEVC,KAAK,CAAEC,eAFG,CAAD,CAAZ,CAID,CAEH,GAAMC,YAAW,CAAGf,KAAK,CAACgB,UAAN,CAAiBb,iBAAjB,CAApB,CAEA,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOW,QAAP,eAAiBK,WAAjB,eACA,eAA8ChB,QAAQ,CAAC,EAAD,CAAtD,yCAAOa,eAAP,eAAwBI,kBAAxB,eAEAlB,KAAK,CAACmB,SAAN,CAAgB,UAAM,CAClBF,WAAW,CAACF,WAAW,CAACJ,IAAb,CAAX,CACAO,kBAAkB,CAACH,WAAW,CAACF,KAAb,CAAlB,CACD,CAHH,CAGK,CAACE,WAAD,CAAcV,MAAd,CAHL,EAKA,QAASe,qBAAT,CAA8BX,CAA9B,CAAiC,CAC7BQ,WAAW,CAACR,CAAC,CAACY,MAAF,CAASC,KAAV,CAAX,CACH,CAED,QAASC,4BAAT,CAAqCd,CAArC,CAAwC,CACpCS,kBAAkB,CAACT,CAAC,CAACY,MAAF,CAASC,KAAV,CAAlB,CACH,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,SADT,CAEI,UAAU,CAAC,2HAFf,CAGI,WAAW,CAAC,wDAHhB,CAII,MAAM,CAAEjB,MAJZ,CAKI,OAAO,CAAEC,OALb,CAMI,QAAQ,CAAEE,YANd,wBAQI,aAAK,SAAS,CAAC,iBAAf,wBACI,cAAO,EAAE,CAAC,YAAV,CAAuB,SAAS,CAAC,cAAjC,CAAgD,IAAI,CAAC,SAArD,CAA+D,IAAI,CAAC,MAApE,CAA2E,WAAW,CAAC,oBAAvF,CAA6F,QAAQ,KAArG,CAAsG,SAAS,CAAC,GAAhH,CAAoH,SAAS,CAAC,IAA9H,CACA,KAAK,CAAEI,QAAQ,EAAI,EADnB,CACuB,QAAQ,CAAEQ,oBADjC,EADJ,cAII,aAAM,SAAS,CAAC,kBAAhB,CAAmC,EAAE,CAAC,YAAtC,EAJJ,GARJ,cAcI,aAAK,SAAS,CAAC,iBAAf,wBACI,cAAO,EAAE,CAAC,WAAV,CAAsB,SAAS,CAAC,cAAhC,CAA+C,IAAI,CAAC,KAApD,CAA0D,IAAI,CAAC,MAA/D,CAAsE,WAAW,CAAC,wDAAlF,CAA8F,QAAQ,KAAtG,CAAuG,SAAS,CAAC,GAAjH,CAAqH,SAAS,CAAC,KAA/H,CACA,KAAK,CAAEN,eAAe,EAAI,EAD1B,CAC8B,QAAQ,CAAES,2BADxC,EADJ,cAII,aAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,WAArC,EAJJ,GAdJ,GADJ,CAuBH,CAED,cAAenB,iBAAf"},"metadata":{},"sourceType":"module"}