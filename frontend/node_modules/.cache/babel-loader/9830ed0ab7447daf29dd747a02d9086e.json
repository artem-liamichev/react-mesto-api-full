{"ast":null,"code":"import React from'react';import{CurrenUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;// console.log('card.likes', card.likes)\nvar currentUser=React.useContext(CurrenUserContext);var isOwn=card.owner===currentUser._id;var cardDeleteButtonStyle=\"\".concat(isOwn?'grid':'none');var isLiked=card.likes.some(function(i){return i===currentUser._id;});var cardLikeButtonClassName=\"element__like-button \".concat(isLiked?'element__like-button_active':'element__like-button_disabled');function handleClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleDeleteClick(){onCardDelete(card._id);}return/*#__PURE__*/_jsxs(\"article\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:card.link,alt:card.name,className:\"element__image\",onClick:handleClick}),/*#__PURE__*/_jsx(\"button\",{className:\"element__delete-button\",type:\"button\",style:{display:cardDeleteButtonStyle},onClick:handleDeleteClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-number\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["React","CurrenUserContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonStyle","isLiked","likes","some","i","cardLikeButtonClassName","handleClick","handleLikeClick","handleDeleteClick","link","name","display","length"],"sources":["C:/Users/mi/dev/react-mesto-api-full/frontend/src/components/Card.js"],"sourcesContent":["import React from 'react';\r\nimport { CurrenUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n    // console.log('card.likes', card.likes)\r\n    const currentUser = React.useContext(CurrenUserContext);\r\n    const isOwn = card.owner === currentUser._id;\r\n    const cardDeleteButtonStyle = (`${isOwn ? 'grid' : 'none'}`)\r\n    const isLiked = card.likes.some(i => i === currentUser._id);\r\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active': 'element__like-button_disabled'}`); \r\n\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      }  \r\n    \r\n    function handleLikeClick() {\r\n       onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n      onCardDelete(card._id);\r\n   }\r\n      \r\n  return (\r\n          <article className=\"element\">\r\n            <img src={card.link} alt={card.name} className=\"element__image\"\r\n            onClick={handleClick}\r\n            />\r\n            <button className=\"element__delete-button\" type=\"button\" style={{display: cardDeleteButtonStyle}}\r\n            onClick={handleDeleteClick}\r\n            ></button>\r\n            <div className=\"element__info\">\r\n              <h2 className=\"element__name\">{card.name}</h2>\r\n              <div className=\"element__likes\">\r\n                <button className={cardLikeButtonClassName} type=\"button\"\r\n                onClick={handleLikeClick}\r\n                ></button>\r\n                <p className=\"element__like-number\">{card.likes.length}</p>\r\n            </div>\r\n            </div>\r\n          </article>\r\n\r\n)}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,iBAAT,KAAkC,gCAAlC,C,wFAGA,QAASC,KAAT,MAA6D,IAA9CC,KAA8C,MAA9CA,IAA8C,CAAxCC,WAAwC,MAAxCA,WAAwC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,YAAe,MAAfA,YAAe,CACzD;AACA,GAAMC,YAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBP,iBAAjB,CAApB,CACA,GAAMQ,MAAK,CAAGN,IAAI,CAACO,KAAL,GAAeH,WAAW,CAACI,GAAzC,CACA,GAAMC,sBAAqB,WAAOH,KAAK,CAAG,MAAH,CAAY,MAAxB,CAA3B,CACA,GAAMI,QAAO,CAAGV,IAAI,CAACW,KAAL,CAAWC,IAAX,CAAgB,SAAAC,CAAC,QAAIA,EAAC,GAAKT,WAAW,CAACI,GAAtB,EAAjB,CAAhB,CACA,GAAMM,wBAAuB,gCAA4BJ,OAAO,CAAG,6BAAH,CAAkC,+BAArE,CAA7B,CAGA,QAASK,YAAT,EAAuB,CACnBd,WAAW,CAACD,IAAD,CAAX,CACD,CAEH,QAASgB,gBAAT,EAA2B,CACxBd,UAAU,CAACF,IAAD,CAAV,CACF,CAED,QAASiB,kBAAT,EAA6B,CAC3Bd,YAAY,CAACH,IAAI,CAACQ,GAAN,CAAZ,CACF,CAEF,mBACQ,iBAAS,SAAS,CAAC,SAAnB,wBACE,YAAK,GAAG,CAAER,IAAI,CAACkB,IAAf,CAAqB,GAAG,CAAElB,IAAI,CAACmB,IAA/B,CAAqC,SAAS,CAAC,gBAA/C,CACA,OAAO,CAAEJ,WADT,EADF,cAIE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,IAAI,CAAC,QAAhD,CAAyD,KAAK,CAAE,CAACK,OAAO,CAAEX,qBAAV,CAAhE,CACA,OAAO,CAAEQ,iBADT,EAJF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+BjB,IAAI,CAACmB,IAApC,EADF,cAEE,aAAK,SAAS,CAAC,gBAAf,wBACE,eAAQ,SAAS,CAAEL,uBAAnB,CAA4C,IAAI,CAAC,QAAjD,CACA,OAAO,CAAEE,eADT,EADF,cAIE,UAAG,SAAS,CAAC,sBAAb,UAAqChB,IAAI,CAACW,KAAL,CAAWU,MAAhD,EAJF,GAFF,GAPF,GADR,CAmBA,CAEF,cAAetB,KAAf"},"metadata":{},"sourceType":"module"}